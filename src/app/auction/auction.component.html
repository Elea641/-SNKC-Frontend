<div class="container">
	<div class="row" *ngIf="showMsg">
		<div class="col-xs-12">
			<p class="alert-success">
				<strong>Enchère bien prise en compte !</strong>
			</p>
		</div>
	</div>
	<div class="room">
		<div class="image">
			<img [src]="sneakers?.picture" />
		</div>
		<div class="room-details">
			<h2>Cette enchère se termine dans</h2>
			<app-countdown
				*ngIf="room?.endDate"
				[endDate]="room?.endDate"
				style="text-align: center"
			></app-countdown>
			<div *ngIf="offers.length == 0">
				<h2>Prix de départ :</h2>
				<h1>{{ room?.initialPrice | currency: "EUR" }}</h1>
			</div>
			<div *ngIf="maxOffer > 0">
				<h2>Dernière enchère proposée :</h2>
				<h1>{{ maxOffer | currency: "EUR" }}</h1>
			</div>
			<input
				placeholder="Montant de votre enchère"
				type="number"
				[(ngModel)]="bit"
			/>
			<button (click)="onSubmitAuction()">Enchérir</button>
			<p>Prix de départ : {{ room?.initialPrice | currency: "EUR" }}</p>
		</div>
	</div>

	<div class="description">
		<h3>Description</h3>
		<div class="description-details">
			<p>Marque : <span>{{ sneakers?.brand }}</span></p>
			<p>Modèle : <span>{{ sneakers?.model }}</span></p>
			<p>Taille : <span>{{ sneakers?.size }}</span></p>
			<p>Etat : <span>{{ stateOfWearToString(sneakers?.stateOfWear) }}</span></p>
			<p>Couleur principale : <span>{{ colorsToString(sneakers?.mainColor) }}</span></p>
		</div>
	</div>

	<div class="auctions">
		<h3>Historique des enchères</h3>
		<table>
			<tr>
				<th>Montant enchère</th>
				<th>Date et heure</th>
			</tr>

			<tr *ngFor="let auction of auctions">
				<td>{{ auction?.offer | currency: "EUR" }}</td>
				<td>{{ auction?.date | date: "medium":"GMT" }}</td>
			</tr>
		</table>
	</div>

	<div *ngIf="currentUser?.id == room?.ownerId">
		<button class="btn1" (click)="deleteRoom()">Supprimer la salle</button>
	</div>
</div>
